{"openapi":"3.1.0","info":{"title":"Chicken Game API","description":"Backend API for multiplayer game theory teaching platform","version":"1.0.0"},"paths":{"/api/rooms":{"post":{"tags":["rooms"],"summary":"Create Room","description":"å»ºç«‹æ–°æˆ¿é–“ï¼ˆHost endpointï¼‰\n\næµç¨‹ï¼š\n1. å‘¼å« RoomManager.create_room()\n2. è¿”å›æˆ¿é–“è³‡è¨Šï¼ˆå« room_id, code, host_player_idï¼‰\n\nè¿”å›ï¼š\n    - room_id: æˆ¿é–“ UUID\n    - code: 6 ä½æˆ¿é–“ä»£ç¢¼ï¼ˆç”¨æ–¼å…¶ä»–ç©å®¶åŠ å…¥ï¼‰\n    - host_player_id: Host ç©å®¶çš„ UUID","operationId":"create_room_api_rooms_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{code}":{"get":{"tags":["rooms"],"summary":"Get Room Status","description":"å–å¾—æˆ¿é–“ç‹€æ…‹ï¼ˆé€éæˆ¿é–“ä»£ç¢¼ï¼‰\n\nç”¨é€”ï¼š\n- å‰ç«¯é¡¯ç¤ºæˆ¿é–“è³‡è¨Š\n- æª¢æŸ¥æˆ¿é–“æ˜¯å¦å­˜åœ¨\n- æŸ¥è©¢ç©å®¶æ•¸é‡\n\nåƒæ•¸ï¼š\n    code: 6 ä½æˆ¿é–“ä»£ç¢¼\n\nè¿”å›ï¼š\n    - room_id: æˆ¿é–“ UUID\n    - code: æˆ¿é–“ä»£ç¢¼\n    - status: æˆ¿é–“ç‹€æ…‹ï¼ˆwaiting/playing/finishedï¼‰\n    - current_round: ç•¶å‰å›åˆæ•¸ï¼ˆ0-10ï¼‰\n    - player_count: ç©å®¶æ•¸é‡ï¼ˆä¸å« Hostï¼‰","operationId":"get_room_status_api_rooms__code__get","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoomStatusResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/start":{"post":{"tags":["rooms"],"summary":"Start Game","description":"é–‹å§‹éŠæˆ²ï¼ˆHost endpointï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- æˆ¿é–“ç‹€æ…‹å¿…é ˆæ˜¯ WAITING\n- ç©å®¶æ•¸é‡å¿…é ˆ >= 2 ä¸”ç‚ºå¶æ•¸\n\næµç¨‹ï¼š\n1. å‘¼å« RoomManager.start_game()\n2. éåŒæ­¥ç™¼é€ WebSocket é€šçŸ¥ï¼ˆROOM_STARTEDï¼‰\n3. è¿”å›æˆåŠŸ\n\næ³¨æ„ï¼š\n- WebSocket é€šçŸ¥æ˜¯éé˜»å¡çš„ï¼ˆä½¿ç”¨ asyncio.create_taskï¼‰\n- ç¢ºä¿ DB commit å®Œæˆå¾Œæ‰ç™¼é€é€šçŸ¥","operationId":"start_game_api_rooms__room_id__start_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/next":{"post":{"tags":["rooms"],"summary":"Next Round","description":"é–‹å§‹ä¸‹ä¸€å›åˆï¼ˆHost endpointï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- æˆ¿é–“ç‹€æ…‹å¿…é ˆæ˜¯ PLAYING\n- ç•¶å‰å›åˆæ•¸ < 10\n\næµç¨‹ï¼š\n1. å‘¼å« RoundManager.create_round()\n2. éåŒæ­¥ç™¼é€ WebSocket é€šçŸ¥ï¼ˆROUND_STARTEDï¼‰\n3. è¿”å›å›åˆè³‡è¨Š\n\nè¿”å›ï¼š\n    - status: \"ok\"\n    - round_number: æ–°å›åˆçš„å›åˆæ•¸","operationId":"next_round_api_rooms__room_id__rounds_next_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/end":{"post":{"tags":["rooms"],"summary":"End Game","description":"çµæŸéŠæˆ²ï¼ˆHost endpointï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- æˆ¿é–“ç‹€æ…‹å¿…é ˆæ˜¯ PLAYING\n\næµç¨‹ï¼š\n1. å‘¼å« RoomManager.end_game()\n2. éåŒæ­¥ç™¼é€ WebSocket é€šçŸ¥ï¼ˆGAME_ENDEDï¼‰\n3. è¿”å›æˆåŠŸ","operationId":"end_game_api_rooms__room_id__end_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/summary":{"get":{"tags":["rooms"],"summary":"Get Game Summary","description":"å–å¾—éŠæˆ²æ‘˜è¦ï¼ˆæ’åå’Œçµ±è¨ˆï¼‰\n\nç”¨é€”ï¼š\n- éŠæˆ²çµæŸå¾Œé¡¯ç¤ºæœ€çµ‚çµæœ\n- é¡¯ç¤ºç©å®¶æ’å\n- é¡¯ç¤ºæ•´é«”ç­–ç•¥çµ±è¨ˆ\n\nè¿”å›ï¼š\n    - players: ç©å®¶åˆ—è¡¨ï¼ˆæŒ‰ç¸½åˆ†æ’åºï¼‰\n        - display_name: é¡¯ç¤ºåç¨±\n        - total_payoff: ç¸½åˆ†\n    - stats: æ•´é«”çµ±è¨ˆ\n        - accelerate_ratio: åŠ é€Ÿæ¯”ä¾‹\n        - turn_ratio: è½‰å‘æ¯”ä¾‹","operationId":"get_game_summary_api_rooms__room_id__summary_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/GameSummaryResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/events/since/{last_event_id}":{"get":{"tags":["rooms"],"summary":"Get Events Since","description":"å–å¾—æŒ‡å®šäº‹ä»¶ ID ä¹‹å¾Œçš„æ‰€æœ‰äº‹ä»¶\n\nç”¨é€”ï¼š\n- WebSocket æ–·ç·šå¾Œé‡é€£ï¼Œè£œç™¼éºæ¼çš„äº‹ä»¶\n- å‰ç«¯å¯ä»¥ç”¨æ­¤ API ç¢ºä¿ä¸æœƒæ¼æ‰ä»»ä½•ç‹€æ…‹è®Šæ›´\n\nåƒæ•¸ï¼š\n    room_id: æˆ¿é–“ UUID\n    last_event_id: æœ€å¾Œæ”¶åˆ°çš„äº‹ä»¶ ID\n\nè¿”å›ï¼š\n    - events: äº‹ä»¶åˆ—è¡¨\n        - event_id: äº‹ä»¶ ID\n        - event_type: äº‹ä»¶é¡å‹\n        - data: äº‹ä»¶è³‡æ–™\n        - created_at: å»ºç«‹æ™‚é–“\n\nç¯„ä¾‹ï¼š\n    å¦‚æœå®¢æˆ¶ç«¯æœ€å¾Œæ”¶åˆ° event_id=100ï¼Œ\n    å‘¼å« /rooms/{room_id}/events/since/100\n    æœƒè¿”å› event_id > 100 çš„æ‰€æœ‰äº‹ä»¶","operationId":"get_events_since_api_rooms__room_id__events_since__last_event_id__get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"last_event_id","in":"path","required":true,"schema":{"type":"integer","title":"Last Event Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{code}/join":{"post":{"tags":["players"],"summary":"Join Room","description":"åŠ å…¥æˆ¿é–“ï¼ˆç©å®¶ endpointï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- æˆ¿é–“å¿…é ˆå­˜åœ¨\n- æˆ¿é–“ç‹€æ…‹å¿…é ˆæ˜¯ WAITINGï¼ˆå°šæœªé–‹å§‹éŠæˆ²ï¼‰\n\næµç¨‹ï¼š\n1. é€éæˆ¿é–“ä»£ç¢¼æ‰¾åˆ° Room\n2. æª¢æŸ¥æˆ¿é–“æ˜¯å¦æ¥å—æ–°ç©å®¶\n3. ç”Ÿæˆé¡¯ç¤ºåç¨±ï¼ˆä¾‹å¦‚ï¼šç‹ç‹¸ 1ï¼‰\n4. å»ºç«‹ Player\n5. è¿”å›ç©å®¶è³‡è¨Š","operationId":"join_room_api_rooms__code__join_post","parameters":[{"name":"code","in":"path","required":true,"schema":{"type":"string","title":"Code"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerJoin"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PlayerResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/current":{"get":{"tags":["rounds"],"summary":"Get Current Round","description":"å–å¾—ç•¶å‰å›åˆè³‡è¨Š\n\nè¿”å›ï¼š\n    - round_number: å›åˆæ•¸\n    - phase: å›åˆéšæ®µï¼ˆNORMAL/MESSAGE/INDICATORï¼‰\n    - status: å›åˆç‹€æ…‹ï¼ˆWAITING_ACTIONS/CALCULATING/COMPLETEDï¼‰","operationId":"get_current_round_api_rooms__room_id__rounds_current_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundCurrentResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/{round_number}/pair":{"get":{"tags":["rounds"],"summary":"Get Player Pair","description":"å–å¾—ç©å®¶åœ¨æŸå›åˆçš„å°æ‰‹è³‡è¨Š\n\nåƒæ•¸ï¼š\n    room_id: æˆ¿é–“ UUID\n    round_number: å›åˆæ•¸\n    player_id: ç©å®¶ UUIDï¼ˆquery parameterï¼‰\n\nè¿”å›ï¼š\n    - opponent_id: å°æ‰‹ UUID\n    - opponent_display_name: å°æ‰‹é¡¯ç¤ºåç¨±","operationId":"get_player_pair_api_rooms__room_id__rounds__round_number__pair_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"round_number","in":"path","required":true,"schema":{"type":"integer","title":"Round Number"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Player Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PairResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/{round_number}/action":{"post":{"tags":["rounds"],"summary":"Submit Action","description":"æäº¤ç©å®¶å‹•ä½œï¼ˆæ ¸å¿ƒé‡æ§‹ï¼ï¼‰\n\n**é‡å¤§æ”¹å‹•**ï¼š\n1. ä½¿ç”¨ RoundManager.submit_action() - å†ªç­‰æ€§è¨­è¨ˆ\n2. å‘¼å« RoundManager.try_finalize_round() - å®‰å…¨çš„ä¸¦ç™¼è¨­è¨ˆ\n3. WebSocket é€šçŸ¥åœ¨ DB commit å¾Œç™¼é€\n\n**æ¶ˆé™¤ç‰¹æ®Šæƒ…æ³**ï¼š\n- èˆŠç‰ˆï¼šã€Œæœ€å¾Œä¸€å€‹äººè§¸ç™¼çµç®—ã€- æœ‰ç‰¹æ®Šé‚è¼¯\n- æ–°ç‰ˆï¼šã€Œä»»ä½•äººéƒ½å˜—è©¦çµç®—ã€- æ²’æœ‰ç‰¹æ®Šæƒ…æ³\n\n**ä¸¦ç™¼å®‰å…¨**ï¼š\n- DB lock ç¢ºä¿ä¸æœƒé‡è¤‡è¨ˆç®—\n- å†ªç­‰æ€§ç¢ºä¿é‡è¤‡æäº¤ä¸æœƒå‡ºéŒ¯\n\næµç¨‹ï¼š\n1. æ‰¾åˆ°å›åˆ\n2. æäº¤å‹•ä½œï¼ˆå†ªç­‰ï¼‰\n3. å˜—è©¦çµç®—ï¼ˆå†ªç­‰ï¼‰\n4. å¦‚æœçµç®—æˆåŠŸï¼Œç™¼é€ WebSocket é€šçŸ¥\n\nåƒæ•¸ï¼š\n    room_id: æˆ¿é–“ UUID\n    round_number: å›åˆæ•¸\n    action_data: åŒ…å« player_id å’Œ choice\n\nè¿”å›ï¼š\n    - status: \"ok\"","operationId":"submit_action_api_rooms__room_id__rounds__round_number__action_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"round_number","in":"path","required":true,"schema":{"type":"integer","title":"Round Number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionSubmit"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/{round_number}/result":{"get":{"tags":["rounds"],"summary":"Get Round Result","description":"å–å¾—å›åˆçµæœ\n\nå‰ç½®æ¢ä»¶ï¼š\n- å›åˆå¿…é ˆå·²çµç®—ï¼ˆstatus=COMPLETEDï¼‰\n\nè¿”å›ï¼š\n    - opponent_display_name: å°æ‰‹é¡¯ç¤ºåç¨±\n    - your_choice: ä½ çš„é¸æ“‡\n    - opponent_choice: å°æ‰‹çš„é¸æ“‡\n    - your_payoff: ä½ çš„åˆ†æ•¸\n    - opponent_payoff: å°æ‰‹çš„åˆ†æ•¸","operationId":"get_round_result_api_rooms__room_id__rounds__round_number__result_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"round_number","in":"path","required":true,"schema":{"type":"integer","title":"Round Number"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Player Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RoundResultResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/rounds/{round_number}/message":{"post":{"tags":["rounds"],"summary":"Send Message","description":"ç™¼é€è¨Šæ¯çµ¦å°æ‰‹ï¼ˆRound 5-6 é™å®šï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- å¿…é ˆæ˜¯ Round 5 æˆ– 6\n- ç©å®¶åªèƒ½ç™¼é€ä¸€æ¬¡è¨Šæ¯\n\næµç¨‹ï¼š\n1. æª¢æŸ¥å›åˆæ•¸\n2. æ‰¾åˆ°å°æ‰‹\n3. å»ºç«‹ Message\n4. ç™¼é€ WebSocket é€šçŸ¥","operationId":"send_message_api_rooms__room_id__rounds__round_number__message_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"round_number","in":"path","required":true,"schema":{"type":"integer","title":"Round Number"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageSubmit"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["rounds"],"summary":"Get Message","description":"å–å¾—å°æ‰‹ç™¼é€çš„è¨Šæ¯\n\nåƒæ•¸ï¼š\n    room_id: æˆ¿é–“ UUID\n    round_number: å›åˆæ•¸\n    player_id: ç©å®¶ UUIDï¼ˆæ¥æ”¶è€…ï¼‰\n\nè¿”å›ï¼š\n    - content: è¨Šæ¯å…§å®¹\n    - from_opponent: Trueï¼ˆå›ºå®šå€¼ï¼‰","operationId":"get_message_api_rooms__room_id__rounds__round_number__message_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"round_number","in":"path","required":true,"schema":{"type":"integer","title":"Round Number"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Player Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/MessageResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/indicators/assign":{"post":{"tags":["rounds"],"summary":"Assign Indicators Endpoint","description":"åˆ†é…æŒ‡æ¨™ï¼ˆHost endpointï¼ŒRound 6 ä¹‹å¾Œï¼‰\n\nå‰ç½®æ¢ä»¶ï¼š\n- ç•¶å‰å›åˆ >= 6\n- å°šæœªåˆ†é…éæŒ‡æ¨™\n\næµç¨‹ï¼š\n1. æª¢æŸ¥æ˜¯å¦å·²åˆ†é…\n2. å‘¼å« IndicatorService.assign_indicators()\n3. ç™¼é€ WebSocket é€šçŸ¥","operationId":"assign_indicators_endpoint_api_rooms__room_id__indicators_assign_post","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ActionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/rooms/{room_id}/indicator":{"get":{"tags":["rounds"],"summary":"Get Player Indicator Endpoint","description":"å–å¾—ç©å®¶çš„æŒ‡æ¨™ç¬¦è™Ÿ\n\nåƒæ•¸ï¼š\n    room_id: æˆ¿é–“ UUID\n    player_id: ç©å®¶ UUID\n\nè¿”å›ï¼š\n    - symbol: æŒ‡æ¨™ç¬¦è™Ÿï¼ˆä¾‹å¦‚ï¼šğŸ‹ï¼‰","operationId":"get_player_indicator_endpoint_api_rooms__room_id__indicator_get","parameters":[{"name":"room_id","in":"path","required":true,"schema":{"type":"string","format":"uuid","title":"Room Id"}},{"name":"player_id","in":"query","required":true,"schema":{"type":"string","format":"uuid","title":"Player Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/IndicatorResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/":{"get":{"summary":"Root","operationId":"root__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/health":{"get":{"summary":"Health","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}}},"components":{"schemas":{"ActionResponse":{"properties":{"status":{"type":"string","title":"Status","default":"ok"}},"type":"object","title":"ActionResponse"},"ActionSubmit":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"choice":{"$ref":"#/components/schemas/Choice"}},"type":"object","required":["player_id","choice"],"title":"ActionSubmit"},"Choice":{"type":"string","enum":["accelerate","turn"],"title":"Choice"},"GameStats":{"properties":{"accelerate_ratio":{"type":"number","title":"Accelerate Ratio"},"turn_ratio":{"type":"number","title":"Turn Ratio"}},"type":"object","required":["accelerate_ratio","turn_ratio"],"title":"GameStats"},"GameSummaryResponse":{"properties":{"players":{"items":{"$ref":"#/components/schemas/PlayerSummary"},"type":"array","title":"Players"},"stats":{"$ref":"#/components/schemas/GameStats"}},"type":"object","required":["players","stats"],"title":"GameSummaryResponse"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"IndicatorResponse":{"properties":{"symbol":{"type":"string","title":"Symbol"}},"type":"object","required":["symbol"],"title":"IndicatorResponse"},"MessageResponse":{"properties":{"content":{"type":"string","title":"Content"},"from_opponent":{"type":"boolean","title":"From Opponent","default":true}},"type":"object","required":["content"],"title":"MessageResponse"},"MessageSubmit":{"properties":{"sender_id":{"type":"string","format":"uuid","title":"Sender Id"},"content":{"type":"string","maxLength":100,"minLength":1,"title":"Content"}},"type":"object","required":["sender_id","content"],"title":"MessageSubmit"},"PairResponse":{"properties":{"opponent_id":{"type":"string","format":"uuid","title":"Opponent Id"},"opponent_display_name":{"type":"string","title":"Opponent Display Name"}},"type":"object","required":["opponent_id","opponent_display_name"],"title":"PairResponse"},"PlayerJoin":{"properties":{"nickname":{"type":"string","maxLength":50,"minLength":1,"title":"Nickname"}},"type":"object","required":["nickname"],"title":"PlayerJoin"},"PlayerResponse":{"properties":{"player_id":{"type":"string","format":"uuid","title":"Player Id"},"room_id":{"type":"string","format":"uuid","title":"Room Id"},"display_name":{"type":"string","title":"Display Name"}},"type":"object","required":["player_id","room_id","display_name"],"title":"PlayerResponse"},"PlayerSummary":{"properties":{"display_name":{"type":"string","title":"Display Name"},"total_payoff":{"type":"integer","title":"Total Payoff"}},"type":"object","required":["display_name","total_payoff"],"title":"PlayerSummary"},"RoomCreate":{"properties":{},"type":"object","title":"RoomCreate"},"RoomResponse":{"properties":{"room_id":{"type":"string","format":"uuid","title":"Room Id"},"code":{"type":"string","title":"Code"},"host_player_id":{"type":"string","format":"uuid","title":"Host Player Id"}},"type":"object","required":["room_id","code","host_player_id"],"title":"RoomResponse"},"RoomStatus":{"type":"string","enum":["waiting","playing","finished"],"title":"RoomStatus"},"RoomStatusResponse":{"properties":{"room_id":{"type":"string","format":"uuid","title":"Room Id"},"code":{"type":"string","title":"Code"},"status":{"$ref":"#/components/schemas/RoomStatus"},"current_round":{"type":"integer","title":"Current Round"},"player_count":{"type":"integer","title":"Player Count"}},"type":"object","required":["room_id","code","status","current_round","player_count"],"title":"RoomStatusResponse"},"RoundCurrentResponse":{"properties":{"round_number":{"type":"integer","title":"Round Number"},"phase":{"$ref":"#/components/schemas/RoundPhase"},"status":{"$ref":"#/components/schemas/RoundStatus"}},"type":"object","required":["round_number","phase","status"],"title":"RoundCurrentResponse"},"RoundPhase":{"type":"string","enum":["normal","message","indicator"],"title":"RoundPhase"},"RoundResultResponse":{"properties":{"opponent_display_name":{"type":"string","title":"Opponent Display Name"},"your_choice":{"$ref":"#/components/schemas/Choice"},"opponent_choice":{"$ref":"#/components/schemas/Choice"},"your_payoff":{"type":"integer","title":"Your Payoff"},"opponent_payoff":{"type":"integer","title":"Opponent Payoff"}},"type":"object","required":["opponent_display_name","your_choice","opponent_choice","your_payoff","opponent_payoff"],"title":"RoundResultResponse"},"RoundStatus":{"type":"string","enum":["waiting_actions","calculating","completed"],"title":"RoundStatus"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}